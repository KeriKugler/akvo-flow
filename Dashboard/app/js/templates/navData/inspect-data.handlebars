{{#view FLOW.inspectDataTableView}}
<section class="fullWidth" id="inspectData">
    <div class="floats-in" id="dataFilter">
        <h3>Choose Survey Data to display:</h3>
            <div class="chooseSurveyData">{{view Ember.Select 
                contentBinding="FLOW.surveyGroupControl.content" 
                selectionBinding="FLOW.selectedControl.selectedSurveyGroup" 
                optionLabelPath="content.code" 
                optionValuePath="content.keyId" 
                prompt="Select survey group"}} 

            {{view Ember.Select 
                contentBinding="FLOW.surveyControl.content" 
                selectionBinding="FLOW.selectedControl.selectedSurvey" 
                optionLabelPath="content.code" 
                optionValuePath="content.keyId" 
                prompt="Select survey"}} 
			</div>
			<div class="dataCollectedDate">
            <label class="collectedFrom"> Collected from:
                {{view FLOW.DateField valueBinding="FLOW.dateControl.fromDate" elementId="from_date" placeholder="Collected From" size=30}} 
            </label> 

            <label class="collectedTo"> To:
                {{view FLOW.DateField valueBinding="FLOW.dateControl.toDate" elementId="to_date" placeholder="To" size=30}} 
            </label>
			</div>
			<div class="dataDeviceId">
				 <label  class="devideId"> Device id:</label> {{view Ember.TextField valueBinding="view.deviceId" placeholder="Device Id" size=30}} 
				 <label class="submitterName"> Submitter name:</label> {{view Ember.TextField valueBinding="view.submitterName" placeholder="Submitter Name" size=30}} 
			</div>
         <a {{action "doFindSurveyInstances" target="this"}} class="findData"> {{t _find}}</a>
    </div>
    <section class="fullWidth " id="devicesList">
        <!-- DEVICES TABLE-->
        <table class="dataTable" id="surveyDataTable">
            <!-- TABLE HEADER-->
            <thead>
                <tr>
                    <th class="noArrows">Id</th>
                    <th class="noArrows">Survey</th>
                    <th class="noArrows">Submitter</th>
                    <th class="noArrows">Device</th>
                    <th class="noArrows">Collected</th>
                    <th class="noArrows">Action</th>
                </tr>
            </thead>
            <!-- TABLE BODY: MAIN CONTENT-->
            <tbody>
                {{#each SI in FLOW.surveyInstanceControl}}
                <tr>
                    <td class="device">{{SI.keyId}}</td>
                    <td class="survey" style="text-align:left;">{{SI.surveyCode}}</td>
                    <td class="submitter" style="text-align:left;">{{SI.submitterName}}</td>
                    <td class="device">{{SI.deviceIdentifier}}</td>
                    <td class="collected">{{#with SI}}{{date1 collectionDate}}{{/with}}</td>
                    <td class="action"><a {{action showEditSurveyInstanceWindow SI target="this" }}>edit</a></td>
                </tr>
                {{/each}}
            </tbody>
            <!-- TABLE FOOTER-->
            <tfoot>
                <tr>
                    <td colspan="7"><small>This is the footer.</small></td>
                </tr>
            </tfoot>
        </table>
        <ul class="prevNext">
            <li class="prevBtn">{{#if view.hasPrevPage}}<a {{action doPrevPage target='this'}}> &lsaquo; previous</a> {{/if}}</li>
        <li class="nextBtn">{{#if view.hasNextPage}}<a {{action doNextPage target='this'}}>next &rsaquo;</a>{{/if}}</li>
        </ul>
    </section>

    <!-- edit surveyInstance popup-->
    <div {{bindAttr class="view.showEditSurveyInstanceWindowBool:display :overlay"}}>
      <div class="blanketWide"></div>
          <div class="dialogWrap">
        <!-- the dialog contents -->
        <div class="confirmDialog dialogWide">
		     <a {{action "doCloseEditSIWindow" target="this"}} class="ok clodeDialog">close window</a>

          <h2>Edit answers</h2>
            <nav class="editAnswerMenu"> 
            <ul>  
              <li class="prevBtn"><a {{action "doPreviousSI" target="this"}}>&lsaquo; previous</a></li>
              <li class="deleteBtn"><a {{action "doDeleteSI" target="this"}} class="smallBtn">delete</a></li>
              <li class="saveBtn"><a {{action "doSaveSI" target="this"}} class="smallBtn">save</a></li>
              <li class="nextBtn"><a {{action "doNextSI" target="this"}}>next &rsaquo;</a></li>
            </ul>
          </nav>
         

 <table class="dataTable" id="surveyDataTable">
            <!-- TABLE HEADER-->
            <thead>
                <tr>
                    <th class="noArrows">Id</th>
                    <th class="noArrows">Question</th>
                    <th class="noArrows">Answer</th>                
                </tr>
            </thead>
            <!-- TABLE BODY: MAIN CONTENT-->
            <tbody>
                {{#each QA in FLOW.questionAnswerControl}}
                    {{#view FLOW.QuestionAnswerView contentBinding="QA"}}
                    <tr>
                      <td class="device">{{QA.keyId}}</td>
                      <td class="survey" style="text-align:left;">{{QA.questionText}}</td>
                    
<td class="submitter" style="text-align:left;">
{{#if view.inEditMode}}
    
  {{#if view.isOptionType}}
   
    {{view Ember.Select 
      contentBinding="view.optionsList" 
      optionLabelPath="content.value" 
      optionValuePath="content.value" 
      selectionBinding="view.optionChoice" 
      prompt="Select answer"}}
  {{else}}
    {{#if view.isNumberType}}
      {{view Ember.TextField valueBinding="view.answer" size=10 }}
    {{else}}
      {{#if view.isTextType}}
        {{view Ember.TextField valueBinding="view.answer" size=10 }}
      {{else}}
        {{#if view.isDateType}} 
          {{view FLOW.DateField2 valueBinding="view.answer" size=30}} 
        {{else}}
          {{#if view.isBarcodeType}}
            The Barcode app on the device is used here
            {{view Ember.TextField valueBinding="view.answer" size=10 }}
          {{/if}}
        {{/if}}
      {{/if}}
    {{/if}}
  {{/if}}
<a {{action doSave target="this"}}>save</a> <a {{action doCancel target="this"}}>cancel</a>
{{else}}
  <a {{action doEdit target="this"}}>{{QA.value}}</a>
{{/if}}
</td>
                   




                    </tr>
                    {{/view}}
                {{/each}}
            </tbody>
            <!-- TABLE FOOTER-->
            <tfoot>
                <tr>
                    <td colspan="7"><small>This is the footer.</small></td>
                </tr>
            </tfoot>
        </table>

        </div>
      </div>
    </div>

</section>
{{/view}}