<!-- we are within navSurveysEditView -->
<section class="leftSidebar" id="newSurveyInfo">
  <h2>{{t _edit_survey}}</h2>
  {{#view FLOW.SurveySidebarView}}
  <form>
    <label for="newSurveyName">Title:
      {{view Ember.TextField valueBinding="view.surveyTitle" placeholder="Type in the name of your survey" size=30}} </label>
    <label for="newSurveyDesc">Description:
      {{view Ember.TextArea valueBinding="view.surveyDescription" placeholder="Type in a description of your survey" size=30 rows="3" }} </label>
    <label for="surveyType">Type:
      {{view Ember.Select 
      contentBinding="FLOW.surveyTypeControl.content" 
      optionLabelPath="content.label" 
      optionValuePath="content.value" 
      selectionBinding="view.SurveyType" 
      prompt="Select survey type"}} </label>
    <label for="surveyType">Sector Focus:
      {{view Ember.Select 
      contentBinding="FLOW.surveySectorTypeControl.content" 
      optionLabelPath="content.label" 
      optionValuePath="content.value" 
      selectionBinding="view.SurveySectorType" 
      prompt="Select sector"}} </label>
  </form>
  <ul class="newSurveyInfoUl" id="">
    <li>
      <h3>Survey Summary</h3>
    </li>
    <li>Number of Question groups: <span id="numberQuestionSet">01</span> </li>
    <li>Number of Questions: <span id="numberQuestion">00</span> </li>
  </ul>
  <nav class="newSurveyNav">
    <ul>
      <li><a {{action doSaveSurvey target="this"}} class="saveNewSurvey">Save</a></li>
      <li><a {{action doPreviewSurvey target="this"}} class="previewNewSurvey">Preview</a></li>
      <li><a {{action doPublishSurvey target="this"}} class="publishNewSurvey">Publish</a></li>
    </ul>
  </nav>
  {{/view }} <!-- end of FLOW.SurveySideBarView --> 
</section>
<section class="mainRight" id="surveyCreator">
  <section class="topBar">
    <nav class="menuTopbar">
      <ul class="">
        <li><a {{action "doSurveysMain"}} class="stepBack">Go back to survey overview</a></li>
      </ul>
    </nav>
  </section>
  
  <!-- Beginning Question group set  -->
  <section id="questionSet">
    <section class="aQuestionSet mainContent" id="setIndex-01"> 
    <!-- zeroItem indicates that this is the item before the first question group -->
    {{#view FLOW.QuestionGroupItemView zeroItem="true"}}
       <!-- insert, move and copy buttons --> 
      {{#if view.oneSelectedForMove}}
      <nav class="moveMenu groupActionMenu">
        <ul>
          <li><a {{action "doQGroupMoveHere" target="this"}} class="smallBtn">{{t _move_group_here}}</a></li>
          <li><a {{action "doQGroupMoveCancel" target="this"}} class="">{{t _cancel_move}}</a></li>
        </ul>
      </nav>
      {{else}}   
      {{#if view.oneSelectedForCopy}}
      <nav class="copyMenu groupActionMenu">
        <ul>
          <li><a {{action "doQGroupCopyHere" target="this"}} class="smallBtn">{{t _paste_group_here}}</a></li>
          <li><a {{action "doQGroupCopyCancel" target="this"}} class="">{{t _cancel_copy}}</a></li>
        </ul>
      </nav>
      {{else}}
      <nav class="insertMenu groupActionMenu">
        <ul>
          <li><a {{action "doInsertQuestionGroup" target="this"}} class="smallBtn">{{t _insert_group_here}}</a></li>
        </ul>
      </nav>
      {{/if}}  
      {{/if}} 
      
      <!-- end insert, move and copy buttons --> 
      
      {{/view}} 
      
      <!-- start list of question groups --> 
      {{#collection contentBinding="FLOW.questionGroupControl" itemViewClass="FLOW.QuestionGroupItemView"}}
      <div class="questionGroupBlock">
        <header> <span class="qtnGroupHead">{{t _group}} {{view.content.order}}</span> {{#if view.showQGroupNameEditField}}
          {{view Ember.TextField valueBinding="view.questionGroupName" size=45}} <a {{action "saveQuestionGroupNameEdit" target="this"}} class="smallBtn">{{t _save}}</a>
          </li>
          <a {{action "cancelQuestionGroupNameEdit" target="this"}}>{{t _cancel}}</a> {{else}}
          <h1 class="qtnGroupTitle"><a {{action "toggleVisibility" target="this"}}>{{view.content.code}}</a></h1>
          {{/if}}
          <nav class="qtnGroupMenu">
            <ul>
              {{#if view.amVisible}}
              <li><a {{action "toggleVisibility" target="this"}} class="showQuestionGroup shown" id="">{{t _hide_questions}} </a></li>
              {{else}}
              <li><a {{action "toggleVisibility" target="this"}} class="showQuestionGroup" id="">{{t _show_questions}} </a></li>
              {{/if}}
              <li><a {{action "doQGroupNameEdit" target="this"}} class="editQuestionGroup" id="">{{t _edit_group_name}}</a></li>
              <li><a {{action "showQGroupDeletedialog" target="this"}} class="deleteQuestionGroup" id="">{{t _delete}}</a></li>
              <li><a {{action "doQGroupCopy" target="this"}} class="copyQuestionGroup" id="">{{t _copy}}</a></li>
              <li><a {{action "doQGroupMove" target="this"}} class="moveQuestionGroup" id="">{{t _move}}</a> </li>
            </ul>
          </nav>
          <!-- <a class="editSetInfo">Edit Set Info</a> --> 
        </header>
        {{#if view.amVisible}}
          <div class="questionSetContent"> 

            {{view FLOW.QuestionView zeroItem="true"}}

            {{#each q in FLOW.questionControl.content}} 
             
              <!-- Question view  --> 
              {{view FLOW.QuestionView contentBinding="q"}} 
              
            {{/each}} 
          </div>
        {{/if}} 
        
        <!-- dialogs -->
        <div {{bindAttr class="view.showQGDeletedialog:display :overlay"}}>
          <div class="blanket"></div>
          <div class="dialogWrap"> 
            <!-- the dialog contents -->
            <div class="confirmDialog dialog">
              <h2>Are you sure you want to do this?</h2>
              <p class="dialogMsg">If we want to give a specific message this is where it can be loaded</p>
              <div class="buttons menuCentre">
                <ul>
                  <li><a {{action "doQGroupDelete" target="this"}} class="ok smallBtn">OK</a></li>
                  <li><a {{action "cancelQGroupDelete" target="this"}}} class="cancel">CANCEL</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- end dialogs --> 
        
        <!-- end question group block --> 
      </div>
      <!-- insert, move and copy buttons --> 
      {{#if view.oneSelectedForMove}}
      <nav class="moveMenu groupActionMenu">
        <ul>
          <li><a {{action "doQGroupMoveHere" target="this"}} class="smallBtn">{{t _move_group_here}}</a></li>
          <li><a {{action "doQGroupMoveCancel" target="this"}} class="">{{t _cancel_move}}</a></li>
        </ul>
      </nav>
      {{else}}   
      {{#if view.oneSelectedForCopy}}
      <nav class="copyMenu groupActionMenu">
        <ul>
          <li><a {{action "doQGroupCopyHere" target="this"}} class="smallBtn">{{t _paste_group_here}}</a></li>
          <li><a {{action "doQGroupCopyCancel" target="this"}} class="">{{t _cancel_copy}}</a></li>
        </ul>
      </nav>
      {{else}}
      <nav class="insertMenu groupActionMenu">
        <ul>
          <li><a {{action "doInsertQuestionGroup" target="this"}} class="smallBtn">{{t _insert_group_here}}</a></li>
        </ul>
      </nav>
      {{/if}}  
      {{/if}} 
      <!-- end move and copy buttons --> 
      
      {{/collection}} </section>
  </section>
  <!-- End Question group Set  --> 
</section>
{{#view FLOW.SavingQuestionGroupsView}}
       <div {{bindAttr class="view.showQGSavingDialogBool:display :overlay"}}>
          <div class="blanket"></div>
          <div class="dialogWrap"> 
            <!-- the dialog contents -->
            <div class="confirmDialog dialog">
              <h2>Saving ....</h2>
              <p class="dialogMsg">Please wait</p>
              <div class="buttons menuCentre">
              
              </div>
            </div>
          </div>
        </div>
{{/view}}
