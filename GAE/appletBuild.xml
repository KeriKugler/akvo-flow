<project name="exporterApplet" default="signjar" basedir=".">
	
	<property file="build.properties" />
	<property name="src" location="src"/>  	
	<property name="build" location="bin"/>
  	<property name="dist"  location="war/WEB-INF"/>
  	
  	<path id="project.classpath">
		<pathelement path="war/WEB-INF/classes" />
		<fileset dir="war/WEB-INF/lib">
			<include name="**/*.jar" />
		</fileset>
		<fileset dir="${sdk.dir}/lib">
			<include name="shared/**/*.jar" />
		</fileset>
		<pathelement path="${gwtlibs.dir}/gwt-user.jar" />
		<pathelement path="${gwtlibs.dir}/gwt-dev.jar" />
		<pathelement location="build" />
		<pathelement location="src" />
	</path>


	<target name="compile">
	 	<javac classpathref="project.classpath" srcdir="${src}:${src}../../src" destdir="${build}">
		 	<exclude name="org/waterforpeople/mapping/portal/**"/>
		 	<exclude name="com/gallatinsystems/device/**"/>
		 	<exclude name="com/gallatinsystems/framework/gwt/**"/>
		 	<exclude name="com/gallatinsystems/common/utilities/**"/>	 	
		</javac>
	 		
	</target>

	<target name="package" depends="compile">
	 	<jar destfile="${dist}/exporterapplet.jar" basedir="${build}"/>
	</target>

	<target name="signjar" depends="package">
		<signjar jar="${dist}/exporterapplet.jar" alias="${keystore.alias}" keystore="${keystore.dir}" storepass="${keystore.password}" verbose="true"/>
	</target>


</project>