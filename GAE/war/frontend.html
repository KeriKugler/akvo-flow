<!DOCTYPE HTML>
<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="en"> <![endif]-->
<!--[if IE 7 ]> <html class="ie ie7 no-js" lang="en"> <![endif]-->
<!--[if IE 8 ]> <html class="ie ie8 no-js" lang="en"> <![endif]-->
<!--[if IE 9 ]> <html class="ie ie9 no-js" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
    <!--<![endif]-->
    <!-- the "no-js" class is for Modernizr. -->
    <head id="akvoFlow">
        <meta charset="UTF-8">
        <meta content="Akvo Flow: field level operations watch" name="description"/>
        <meta content="width=device-width, maximum-scale=1.0" name="viewport"/>
        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
        <title>Akvo Flow - Dashboard</title>
        <link href="/favicon.ico" rel="shortcut icon"/>
        <!-- enable HTML5 elements in IE7+8 -->
        <!--[if lt IE 9]> <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script> <![endif]-->
        <!-- Stylesheets -->
        <link href="frontend-assets/css/screen.css" media="screen,projection" rel="stylesheet"/>
        <!-- Target iPhone -->
        <link href="frontend-assets/css/handheld.css" media="(max-device-width:480px)" rel="stylesheet"/>
        <!-- Target iPad -->
        <link href="frontend-assets/css/tablet.css" media="(min-device-width:768px) and (max-device-width:1024px)" rel="stylesheet"/>
        <!-- Target Galaxy Tab -->
        <link href="frontend-assets/css/tablet.css" media="(min-width:1280px) and (max-width:1280px)" rel="stylesheet"/>
        <link href="frontend-assets/css/tablet.css" media="(min-width:800px) and (max-width:800px)" rel="stylesheet"/>
    </head>
    <body>
        <!-- header starts here -->
        <script data-template-name="application" type="text/x-handlebars">
            <header class="floats-in top" id="header" role="banner">
                <div>
                    <hgroup>
                        <h1>Akvo
                            <abbr title="field level operations watch">Flow</abbr></h1>
                        <h2>field level operations watch</h2>
                    </hgroup>
                    <nav id="topnav" role="navigation">
                        {{view FLOW.NavigationView controllerBinding="controller.controllers.navigationController"}}
                    </nav>
                    <form>
                        <input name="flowSearch" placeholder="Find anything here." type="search"/>
                    </form>
                </div>
            </header>
            <div id="pageWrap">
                {{outlet}}
            </div>
            <footer class="floats-in bottomPage" role="contentinfo">
                <div>
                    <h1>Footer content goes here.</h1>
                    <div id="backToTop"><a href="#header" rel="self">Back to top</a></div>
                </div>
            </footer>
        </script>

 		<!-- navigation -->
        <script data-template-name="navigation" type="text/x-handlebars">
            <ul class="floats-in">
                {{#view view.NavItemView item="navHome" }}
                <a {{action doNavHome}}>Home</a>
                {{/view}} {{#view view.NavItemView item="navSurveys" }}
                <a {{action doNavSurveys}}>Surveys</a>
                {{/view}} {{#view view.NavItemView item="navDevices" }}
                <a {{action doNavDevices}}>Devices</a>
                {{/view}} {{#view view.NavItemView item="navData" }}
                <a {{action doNavData}}>Data</a>
                {{/view}} {{#view view.NavItemView item="navReports" }}
                <a {{action doNavReports}}>Reports</a>
                {{/view}} {{#view view.NavItemView item="navMaps" }}
                <a {{action doNavMaps}}>Maps</a>
                {{/view}} {{#view view.NavItemView item="navUsers" }}
                <a {{action doNavUsers}}>Users</a>
                {{/view}} {{#view view.NavItemView item="navAdmin" }}
                <a {{action doNavAdmin}}>Admin</a>
                {{/view}}
            </ul>
        </script>

		 <!-- home page -->
        <script data-template-name="navHome" type="text/x-handlebars">
            <div class="hero-unit">
                <h1>Home</h1>
                <p>
                    Home sweet home!
                </p>
            </div>
        </script>

		 <!-- survey page -->
        <script data-template-name="navSurveys" type="text/x-handlebars">
            <div class="hero-unit">
                {{view Ember.Select contentBinding="controllers.surveyGroupController.content" selectionBinding="FLOW.selectedControl.selectedSurveyGroup" optionLabelPath="content.displayName" optionValuePath="content.keyId" prompt="Select survey group"}} 

				{{view Ember.Select contentBinding="FLOW.surveyControl.active" selectionBinding="FLOW.selectedControl.selectedSurvey" optionLabelPath="content.displayName" optionValuePath="content.keyId" prompt="Select survey"}} 
				
				{{view Ember.Select contentBinding="FLOW.questionGroupControl.active" selectionBinding="FLOW.selectedControl.selectedQuestionGroup" optionLabelPath="content.displayName" optionValuePath="content.keyId" prompt="Select question group"}}
				
                <section class="surveySection floats-in" id="main" role="main">
                    <section class="leftSidebar" id="newSurveyInfo">
                        <h2>Edit survey</h2>
                        <form action="#" method="get">
                            <label for="newSurveyName">Survey title:</label>
                            <input autofocus id="newSurveyName" name="surveyName" placeholder="Type in the name of your survey." required required title="Type in the name of your survey." type="text"/>
                            <label for="newSurveyDesc">Survey description:</label>
                            <textarea id="newSurveyDesc" name="surveyDesc" placeholder="Type in the description of your survey." required title="Type in the description of your survey."></textarea>
                            <label for="surveyType">Survey Type:</label>
                            <select id="surveyType">
                                <option value="Water Point">Water Point</option>
                                <option value="School">School</option>
                                <option value="Sanitation Point">Sanitation Point</option>
                                <option value="Houselhold">Household</option>
                                <option value="Create a new type">Create a new Survey type</option>
                            </select>
                        </form>
                        <ul class="newSurveyInfoUl" id="">
                            <li>
                                <h3>Survey Summary</h3>
                            </li>
                            <li>Number of Question set:
                                <span id="numberQuestionSet">01</span></li>
                            <li>Number of Questions:
                                <span id="numberQuestion">00</span></li>
                        </ul>
                        <nav class="newSurveyNav">
                            <ul>
                                <li><a href="#" class="saveNewSurvey">Save</a></li>
                                <li><a href="#" class="previewNewSurvey">Preview</a></li>
                                <li><a href="#" class="publishNewSurvey">Publish</a></li>
                            </ul>
                        </nav>
                    </section>
                    <section class="mainRight" id="surveyCreator">
                        <section class="topBar">
                            <nav class="menuTopbar">
                                <ul class="">
                                    <li><a href="index.html" class="stepBack">Go back to survey overview</a></li>
                                </ul>
                            </nav>
                        </section>

                        <!-- Beginning Question Set  -->
                        <section id="questionSet">
                            <section class="aQuestionSet" id="setIndex-01">
                               
                                    SurveyGroup {{FLOW.selectedControl.selectedSurveyGroup.keyId}}<br>
                                    Survey {{FLOW.selectedControl.selectedSurvey.keyId}}<br>
                                    Question Group {{FLOW.selectedControl.selectedQuestionGroup.keyId}}<br>
                                    
									{{#each qg in FLOW.questionGroupControl.active}} 
										{{#view FLOW.QuestionGroupItemView contentBinding="qg"}}
										 	<header>
								    			<h1>{{qg.displayName}}</h1>
								    			<a class="editSetInfo" {{action "toggleVisibility" target="this"}}>{{view.showHideText}}</a>
											</header><br/>
											{{#if view.amVisible}} 
												{{#each q in FLOW.questionControl.active}} 
												{{/each}} 
											{{/if}} 

										{{/view}} 
									{{/each}}
								
								
                            </section>
                        </section>
                        <!-- End Question Set  -->
                    </section>
                </section>
                <p id="back-top">
                    <a href="#header">
                        <span></span>Back to Top</a>
                </p>
            </div>
            <!-- Main Section ends here -->
        </script>

        <script data-template-name="question-group-view" type="text/x-handlebars">
            <h1>{{view.content.displayName}}
                <a {{action "toggleVisibility" target="FLOW.questionGroupView"}}>{{view.showHideText}}</a>
            </h2>
            {{#if view.amVisible}} Using if: {{view.content.displayName}}, {{view.content.keyId}} {{/if}} {{#view Ember.View isVisibleBinding="view.isChildVisible" contentBinding="view.content"}} using isChildVisible: {{view.content.displayName}} {{/view}}
        </script>
		
		 <!-- Devices page -->
        <script data-template-name="navDevices" type="text/x-handlebars">
            <div class="hero-unit">
                <h1>Devices</h1>
                <p>
                    {{#view FLOW.TestView}}
                    <a {{action "change" target="FLOW.testView"}}>click me</a>
                    {{view.data}} {{/view}} {{FLOW.testController.data}}
                </p>
            </div>
        </script>

		 <!-- Data view -->
        <script data-template-name="navData" type="text/x-handlebars">
            <section class="dataSection floats-in" id="main" role="main">
                <div id="tabs">
                    <nav class="tabNav floats-in">
                        {{view FLOW.DatasubnavView controllerBinding="controller.controllers.datasubnavController"}}
                    </nav>
                    {{outlet}}
                </div>
            </section>
        </script>
		
		 <!-- Data subnavigation -->
        <script data-template-name="datasubnav" type="text/x-handlebars">
            <ul>
                {{#view view.NavItemView item="inspectData" }}
                <a {{action doInspectData}}>Inspect Data</a>
                {{/view}} {{#view view.NavItemView item="importSurvey" }}
                <a {{action doImportSurvey}}>Import survey data</a>
                {{/view}} {{#view view.NavItemView item="excelExport" }}
                <a {{action doExcelExport}}>Spreadsheet export</a>
                {{/view}} {{#view view.NavItemView item="excelImport" }}
                <a {{action doExcelImport}}>Spreadsheet import</a>
                {{/view}}
            </ul>
        </script>

        <script data-template-name="inspectData" type="text/x-handlebars">
            <section class="fullWidth" id="inspectData">
                <div class="" id="dataFilter">
                    <h3>Choose Survey Data to display:</h3>
                    <form>
                        {{view Ember.Select contentBinding="controllers.surveyGroupController.content" selectionBinding="controllers.selectedSurveyGroupController.selectedSurveyGroup" optionLabelPath="content.displayName" optionValuePath="content.keyId" prompt="Select survey group"}} 
						{{view Ember.Select contentBinding="controllers.surveyController.active" selectionBinding="controllers.selectedSurveyController.selectedSurvey" optionLabelPath="content.displayName" optionValuePath="content.keyId" prompt="Select survey" }}
                        <label for="fromDate">Collected From</label>
                        <input class="datePicker" id="from" name="from" type="text">
                        <label for="toDate">To</label>
                        <input class="datePicker" id="to" name="to" type="text">
                    </form>
                </div>
                <section class="fullWidth " id="devicesList">
                    <!-- DEVICES TABLE-->
                    <table class="dataTable" id="surveyDataTable">
                        <!-- TABLE HEADER-->
                        <thead>
                            <tr>
                                <th>Survey Group name</th>
                                <th>Description</th>
                                <th>Created</th>
                                <th>Last updated</th>
                                <th>ID</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <!-- TABLE BODY: MAIN CONTENT-->
                        <tbody>
                            {{#each controllers.surveyGroupController.content}}
                            <tr>
                                <td class="surveyGroup" style="text-align:left;">{{displayName}}</td>
                                <td class="description" style="text-align:left;">{{description}}</td>
                                <td class="created">{{createdDateTime}}</td>
                                <td class="lastUpdated">{{lastUpdateDateTime}}</td>
                                <td class="ID">{{keyId}}</td>
                                <td class="action"><a href="#">action</a></td>
                            </tr>
                            {{/each}}
                        </tbody>
                        <!-- TABLE FOOTER-->
                        <tfoot>
                            <tr>
                                <td colspan="7"><small>This is the footer.</small></td>
                            </tr>
                        </tfoot>
                    </table>
                </section>
            </section>
        </script>
        <script data-template-name="importSurvey" type="text/x-handlebars">
            <section class="fullWidth" id="importSurvey">
                <h1>Content of Import Survey Data tab
                </h1>
            </section>
        </script>
        <script data-template-name="excelExport" type="text/x-handlebars">
            <section class="fullWidth" id="excelExport">
                <h1>This is the content of Spreadsheet export</h1>
            </section>
        </script>
        <script data-template-name="excelImport" type="text/x-handlebars">
            <section class="fullWidth" id="excelImport">
                <h1>This is the content of Spreadsheet import</h1>
            </section>
        </script>
        
 		<!-- Reports -->
		<script data-template-name="navReports" type="text/x-handlebars">
            <div class="hero-unit">
                <h1>Reports</h1>
                <p>
                    Reports dus.
                </p>
            </div>
        </script>
		
		 <!-- Maps -->
        <script data-template-name="navMaps" type="text/x-handlebars">
            <div class="hero-unit">
                <h1>Maps</h1>
                <p>
                    Maps.
                </p>
            </div>
        </script>
		
		 <!-- Users -->
        <script data-template-name="navUsers" type="text/x-handlebars">
            <div class="hero-unit">
                <h1>Users</h1>
                <p>
                    Users dus.
                </p>
            </div>
        </script>

		 <!-- Admin -->
        <script data-template-name="navAdmin" type="text/x-handlebars">
            <div class="hero-unit">
                <h1>Admin</h1>
                <p>
                    Admin dus.
                </p>
            </div>
        </script>
        <!-- Main Section ends here -->
        <!-- Grab Google CDN's jQuery. fall back to local if necessary <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> <script>window.jQuery || document.write("<script src='/js/jquery-1.7.2.min.js'>\x3C/script>")</script> <script src="js/survey-styling.js"></script>-->
        <script src="frontend-assets/js/libs/jquery-1.7.1.js"></script>
        <script src="frontend-assets/js/libs/bootstrap.min.js"></script>
        <script src="frontend-assets/js/libs/survey-styling.js"></script>
        <script src="frontend-assets/js/libs/modernizr.custom.32662.js"></script>
        <script src="frontend-assets/js/libs/jquery.dataTables.min.js"></script>
        <script src="frontend-assets/js/libs/jquery-ui-1.8.21.custom.min.js"></script>
        <!-- Ember app -->
        <script src="frontend-assets/js/libs/handlebars-1.0.0.beta.6.js"></script>
        <script src="frontend-assets/js/libs/ember-1.0.pre.js"></script>
        <script src="frontend-assets/js/libs/ember-data.js"></script>
        <script src="frontend-assets/js/libs/FLOWrest-adapter.js"></script>
        <script src="frontend-assets/js/app.js"></script>
        <script src="frontend-assets/js/models/models.js"></script>
        <script src="frontend-assets/js/controllers/controllers.js"></script>
        <script src="frontend-assets/js/views/views.js"></script>
        <script src="frontend-assets/js/router.js"></script>
        <!-- Tab Navigation JS -->
        <script type="text/javascript">
            (function ($) {})(window.jQuery);
            $(document).ready(function () {
                $('#tabs> section').hide();
                $('#tabs> section:first').show();
                $('#tabs ul li:first').addClass('active');
                $('#tabs ul li a').click(function () {
                    $('#tabs ul li').removeClass('active');
                    $(this).parent().addClass('active');
                    var currentTab = $(this).attr('href');
                    $('#tabs> section').hide();
                    $(currentTab).show();
                    return false;
                });
                $('#devicesListTable').dataTable({
                    "aaSorting": [
                        [1, "desc"]],
                });
                $(".dataTables_paginate").addClass("floats-in");
                $(".dataTables_filter label> input").removeAttr("type").attr("type", "search");

                $("#from").datepicker({
                    defaultDate: "+1w",
                    numberOfMonths: 1,
                    onSelect: function (selectedDate) {
                        $("#to").datepicker("option", "minDate", selectedDate);
                    }
                });
                $("#to").datepicker({
                    defaultDate: "+1w",
                    numberOfMonths: 1,
                    onSelect: function (selectedDate) {
                        $("#from").datepicker("option", "maxDate", selectedDate);
                    }
                });

            });
        </script>
    </body>
</html>